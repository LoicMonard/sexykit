import{Q as W,S as J,i as K,s as N,k as I,a as Q,l as k,m as w,c as z,h as g,n as y,b as R,J as L,M as E,f as B,g as G,d as H,R as M,T as F,t as S,U as X,O as Y,L as Z,q as j,r as q,V as x,u as P}from"./index-8e55f17f.js";import{c as V}from"./index-5e4ec7f1.js";function oe(t,{delay:e=0,duration:l=400,easing:a=W}={}){const o=+getComputedStyle(t).opacity;return{delay:e,duration:l,easing:a,css:r=>`opacity: ${r*o}`}}function A(t,{delay:e=0,duration:l=400,easing:a=V,x:o=0,y:r=0,opacity:f=0}={}){const m=getComputedStyle(t),_=+m.opacity,s=m.transform==="none"?"":m.transform,h=_*(1-f);return{delay:e,duration:l,easing:a,css:(n,i)=>`
			transform: ${s} translate(${(1-n)*o}px, ${(1-n)*r}px);
			opacity: ${_-h*i}`}}function C(t,{delay:e=0,duration:l=400,easing:a=V}={}){const o=getComputedStyle(t),r=+o.opacity,f=parseFloat(o.height),m=parseFloat(o.paddingTop),_=parseFloat(o.paddingBottom),s=parseFloat(o.marginTop),h=parseFloat(o.marginBottom),n=parseFloat(o.borderTopWidth),i=parseFloat(o.borderBottomWidth);return{delay:e,duration:l,easing:a,css:c=>`overflow: hidden;opacity: ${Math.min(c*20,1)*r};height: ${c*f}px;padding-top: ${c*m}px;padding-bottom: ${c*_}px;margin-top: ${c*s}px;margin-bottom: ${c*h}px;border-top-width: ${c*n}px;border-bottom-width: ${c*i}px;`}}function O(t,e,l){const a=t.slice();return a[13]=e[l],a}function U(t){let e,l=t[13][t[1]]+"",a,o,r,f,m,_;function s(...h){return t[9](t[13],...h)}return{c(){e=I("li"),a=j(l),this.h()},l(h){e=k(h,"LI",{class:!0});var n=w(e);a=q(n,l),n.forEach(g),this.h()},h(){y(e,"class",o=["itemlist__option",`${t[13].disabled?"itemlist__option--disabled":""}`,`${t[3].find(s)?"itemlist__option--selected":""}`,`${t[4]===t[13]?"itemlist__option--focused":""}`].join(" "))},m(h,n){R(h,e,n),L(e,a),f=!0,m||(_=E(e,"mousedown",function(){x(t[5](t[13]))&&t[5](t[13]).apply(this,arguments)}),m=!0)},p(h,n){t=h,(!f||n&3)&&l!==(l=t[13][t[1]]+"")&&P(a,l),(!f||n&25&&o!==(o=["itemlist__option",`${t[13].disabled?"itemlist__option--disabled":""}`,`${t[3].find(s)?"itemlist__option--selected":""}`,`${t[4]===t[13]?"itemlist__option--focused":""}`].join(" ")))&&y(e,"class",o)},i(h){f||(M(()=>{r||(r=F(e,C,{},!0)),r.run(1)}),f=!0)},o(h){r||(r=F(e,C,{},!1)),r.run(0),f=!1},d(h){h&&g(e),h&&r&&r.end(),m=!1,_()}}}function D(t){let e,l,a;return{c(){e=I("ul"),l=I("li"),a=j(t[2]),this.h()},l(o){e=k(o,"UL",{class:!0});var r=w(e);l=k(r,"LI",{});var f=w(l);a=q(f,t[2]),f.forEach(g),r.forEach(g),this.h()},h(){y(e,"class","itemlist__option itemlist__option--empty")},m(o,r){R(o,e,r),L(e,l),L(l,a)},p(o,r){r&4&&P(a,o[2])},d(o){o&&g(e)}}}function $(t){let e,l,a,o,r,f,m,_=t[0],s=[];for(let i=0;i<_.length;i+=1)s[i]=U(O(t,_,i));const h=i=>S(s[i],1,1,()=>{s[i]=null});let n=!t[0].length&&D(t);return{c(){e=I("div"),l=I("ul");for(let i=0;i<s.length;i+=1)s[i].c();a=Q(),n&&n.c(),this.h()},l(i){e=k(i,"DIV",{class:!0,tabindex:!0,role:!0});var c=w(e);l=k(c,"UL",{class:!0});var u=w(l);for(let b=0;b<s.length;b+=1)s[b].l(u);a=z(u),n&&n.l(u),u.forEach(g),c.forEach(g),this.h()},h(){y(l,"class","itemlist__options"),y(e,"class","itemlist"),y(e,"tabindex","0"),y(e,"role","button")},m(i,c){R(i,e,c),L(e,l);for(let u=0;u<s.length;u+=1)s[u].m(l,null);L(l,a),n&&n.m(l,null),r=!0,f||(m=[E(e,"keydown",t[8]),E(e,"focus",t[6]),E(e,"blur",t[7])],f=!0)},p(i,[c]){if(c&59){_=i[0];let u;for(u=0;u<_.length;u+=1){const b=O(i,_,u);s[u]?(s[u].p(b,c),B(s[u],1)):(s[u]=U(b),s[u].c(),B(s[u],1),s[u].m(l,a))}for(G(),u=_.length;u<s.length;u+=1)h(u);H()}i[0].length?n&&(n.d(1),n=null):n?n.p(i,c):(n=D(i),n.c(),n.m(l,null))},i(i){if(!r){for(let c=0;c<_.length;c+=1)B(s[c]);M(()=>{o||(o=F(l,A,{y:-10,duration:300},!0)),o.run(1)}),r=!0}},o(i){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)S(s[c]);o||(o=F(l,A,{y:-10,duration:300},!1)),o.run(0),r=!1},d(i){i&&g(e),X(s,i),n&&n.d(),i&&o&&o.end(),f=!1,Y(m)}}}function ee(t,e,l){let{items:a=[]}=e,{itemLabel:o="label"}=e,{noResultText:r="Pas de r\xE9sultat"}=e,{selectedItems:f=[]}=e,m=null;const _=Z(),s=d=>{_("select",d)},h=()=>{l(4,m=c(a,null))},n=()=>{_("close")},i=d=>{d.key==="ArrowDown"?l(4,m=c(a,m)):d.key==="ArrowUp"?l(4,m=u(a,m)):d.key==="Enter"?_("select",m):d.key==="Escape"?_("close"):d.key},c=(d,v)=>{let T=d.indexOf(v);const p=d[T+1];return!p||p.disabled?c(d,p):p},u=(d,v)=>{let T=d.indexOf(v);const p=d[T?T-1:d.length-1];return!p||p.disabled?u(d,p):p},b=(d,v)=>v.value===d.value;return t.$$set=d=>{"items"in d&&l(0,a=d.items),"itemLabel"in d&&l(1,o=d.itemLabel),"noResultText"in d&&l(2,r=d.noResultText),"selectedItems"in d&&l(3,f=d.selectedItems)},[a,o,r,f,m,s,h,n,i,b]}class ie extends J{constructor(e){super(),K(this,e,ee,$,N,{items:0,itemLabel:1,noResultText:2,selectedItems:3})}}export{ie as I,oe as f};
